<?xml version="1.0"?>

<robot name="amr" xmlns:xacro="http://ros.org/wiki/xacro" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://wiki.ros.org/urdf/XML">

    <!-- Include Gazebo Parameters -->
    <xacro:include filename="$(find amr_description)/urdf/amr_gazebo.xacro" />

    <!-- Include ros2_control Plugins -->
    <xacro:include filename="$(find amr_description)/urdf/amr_ros2_control.xacro" />

    <link name="base_footprint"/>
    
    <link name="base">
        <inertial>
        <origin xyz="0 0 0.1" rpy="0 0 0" />
        <mass value="8.34"/>
        <inertia ixx="0.002386469" iyy="0.004827723" izz="0.003252219" ixy="0.0" ixz="0.0" iyz="0.0" />        </inertial>
        <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
            <mesh filename="package://amr_description/meshes/Base_final.stl"/>
        </geometry>
        <material name="gray">
            <color rgba=".7 .7 .7 1" />
        </material>
        </visual>
        <collision>
        <geometry>
            <mesh filename="package://amr_description/meshes/Base_final.stl"/>
        </geometry>
        </collision>
    </link>

    <joint name="base_joint" type="fixed">
    <parent link="base_footprint"/>
    <child link="base"/>
    <origin rpy="0 0 0" xyz="0 0 0.093"/>
    </joint>

    <!-- 
    links for right front wheels
    -->    

    <link name="shaft_right_front">
        <inertial>
        <mass value="0.06175"/>
        <inertia ixx="0.000001112" iyy="0.000101416" izz="0.000101416" ixy="0.0" ixz="0.0" iyz="0.0"/>
        <origin/>
        </inertial>
    
        <visual>
            
            <geometry>
                <mesh filename="package://amr_description/meshes/shaft_final.stl"/>
            </geometry>

            <material name="white">
            <color rgba="1 1 1 1"/>
            </material>
        </visual>
    
        <collision>
            <geometry>
                <mesh filename="package://amr_description/meshes/shaft_final.stl"/>
            </geometry>
            <contact_coefficients mu="0" kp="1000.0" kd="1.0"/>
        </collision>

        </link>

    <link name="inner_right_front">
        <inertial>
        <mass value="0.94"/>
        <inertia ixx="0.001752394" iyy="0.001233251" izz="0.001233251" ixy="0.0" ixz="0.0" iyz="0.0"/>
        <origin/>
        </inertial>
    
        <visual>
            
            <geometry>
                <mesh filename="package://amr_description/meshes/inner_final.stl"/>
            </geometry>

            <material name="silver">
            <color rgba="0.917647059 0.925490196 0.925490196 1"/>
            </material>
        </visual>
    
        <collision>
            <geometry>
                <mesh filename="package://amr_description/meshes/inner_final.stl"/>
            </geometry>
            <contact_coefficients mu="0" kp="0.0" kd="0.0"/>
        </collision>

        </link>

    <link name="outer_right_front">
        <inertial>
        <mass value="0.11614"/>
        <inertia ixx="0.00036673" iyy="0.00036673" izz="0.000435441" ixy="0.0" ixz="0.0" iyz="0.0"/>
        <origin/>
        </inertial>
    
        <visual>
            
            <geometry>
                <mesh filename="package://amr_description/meshes/outer_final.stl"/>
            </geometry>

            <material name="white">
            <color rgba="0 0 0 1"/>
            </material>
        </visual>
    
        <collision>
            <geometry>
                <mesh filename="package://amr_description/meshes/outer_final.stl"/>
            </geometry>
            <contact_coefficients mu="0" kp="0.0" kd="0.0"/>
        </collision>

        </link>

    <!-- 
    links for left front wheels
    -->  

    <link name="shaft_left_front">
        <inertial>
        <mass value="0.06175"/>
        <inertia ixx="0.000001112" iyy="0.000101416" izz="0.000101416" ixy="0.0" ixz="0.0" iyz="0.0"/>
        <origin/>
        </inertial>
    
        <visual>
            
            <geometry>
                <mesh filename="package://amr_description/meshes/shaft_final.stl"/>
            </geometry>

            <material name="white">
            <color rgba="1 1 1 1"/>
            </material>
        </visual>
    
        <collision>
            <geometry>
                <mesh filename="package://amr_description/meshes/shaft_final.stl"/>
            </geometry>
            <contact_coefficients mu="0" kp="1000.0" kd="1.0"/>
        </collision>

        </link>

    <link name="inner_left_front">
        <inertial>
        <mass value="0.94"/>
        <inertia ixx="0.001752394" iyy="0.001233251" izz="0.001233251" ixy="0.0" ixz="0.0" iyz="0.0"/>
        <origin/>
        </inertial>
    
        <visual>
            
            <geometry>
                <mesh filename="package://amr_description/meshes/inner_final.stl"/>
            </geometry>

            <material name="silver">
            <color rgba="0.917647059 0.925490196 0.925490196 1"/>
            </material>
        </visual>
    
        <collision>
            <geometry>
                <mesh filename="package://amr_description/meshes/inner_final.stl"/>
            </geometry>
            <contact_coefficients mu="0" kp="0.0" kd="0.0"/>
        </collision>

        </link>

    <link name="outer_left_front">
        <inertial>
        <mass value="0.11614"/>
        <inertia ixx="0.00036673" iyy="0.00036673" izz="0.000435441" ixy="0.0" ixz="0.0" iyz="0.0"/>
        <origin/>
        </inertial>
    
        <visual>
            
            <geometry>
                <mesh filename="package://amr_description/meshes/outer_final.stl"/>
            </geometry>

            <material name="white">
            <color rgba="0 0 0 1"/>
            </material>
        </visual>
    
        <collision>
            <geometry>
                <mesh filename="package://amr_description/meshes/outer_final.stl"/>
            </geometry>
            <contact_coefficients mu="0" kp="0.0" kd="0.0"/>
        </collision>

        </link>

    <!-- 
    links for left back wheels
    -->  

    <link name="shaft_left_back">
        <inertial>
        <mass value="0.06175"/>
        <inertia ixx="0.000001112" iyy="0.000101416" izz="0.000101416" ixy="0.0" ixz="0.0" iyz="0.0"/>
        <origin/>
        </inertial>
    
        <visual>
            
            <geometry>
                <mesh filename="package://amr_description/meshes/shaft_final.stl"/>
            </geometry>

            <material name="white">
            <color rgba="1 1 1 1"/>
            </material>
        </visual>
    
        <collision>
            <geometry>
                <mesh filename="package://amr_description/meshes/shaft_final.stl"/>
            </geometry>
            <contact_coefficients mu="0" kp="1000.0" kd="1.0"/>
        </collision>

        </link>

    <link name="inner_left_back">
        <inertial>
        <mass value="0.94"/>
        <inertia ixx="0.001752394" iyy="0.001233251" izz="0.001233251" ixy="0.0" ixz="0.0" iyz="0.0"/>
        <origin/>
        </inertial>
    
        <visual>
            
            <geometry>
                <mesh filename="package://amr_description/meshes/inner_final.stl"/>
            </geometry>

            <material name="silver">
            <color rgba="0.917647059 0.925490196 0.9254901961 1"/>
            </material>
        </visual>
    
        <collision>
            <geometry>
                <mesh filename="package://amr_description/meshes/inner_final.stl"/>
            </geometry>
            <contact_coefficients mu="0" kp="0.0" kd="0.0"/>
        </collision>

        </link>

    <link name="outer_left_back">
        <inertial>
        <mass value="0.11614"/>
        <inertia ixx="0.00036673" iyy="0.00036673" izz="0.000435441" ixy="0.0" ixz="0.0" iyz="0.0"/>
        <origin/>
        </inertial>
    
        <visual>
            
            <geometry>
                <mesh filename="package://amr_description/meshes/outer_final.stl"/>
            </geometry>

            <material name="white">
            <color rgba="0 0 0 1"/>
            </material>
        </visual>
    
        <collision>
            <geometry>
                <mesh filename="package://amr_description/meshes/outer_final.stl"/>
            </geometry>
            <contact_coefficients mu="0" kp="0.0" kd="0.0"/>
        </collision>

        </link>

    <!-- 
    links for right back wheels
    -->  

    <link name="shaft_right_back">
        <inertial>
        <mass value="0.06175"/>
        <inertia ixx="0.000001112" iyy="0.000101416" izz="0.000101416" ixy="0.0" ixz="0.0" iyz="0.0"/>
        <origin/>
        </inertial>
    
        <visual>
            
            <geometry>
                <mesh filename="package://amr_description/meshes/shaft_final.stl"/>
            </geometry>

            <material name="white">
            <color rgba="1 1 1 1"/>
            </material>
        </visual>
    
        <collision>
            <geometry>
                <mesh filename="package://amr_description/meshes/shaft_final.stl"/>
            </geometry>
            <contact_coefficients mu="0" kp="1000.0" kd="1.0"/>
        </collision>

        </link>

    <link name="inner_right_back">
        <inertial>
        <mass value="0.94"/>
        <inertia ixx="0.001752394" iyy="0.001233251" izz="0.001233251" ixy="0.0" ixz="0.0" iyz="0.0"/>
        <origin/>
        </inertial>
    
        <visual>
            
            <geometry>
                <mesh filename="package://amr_description/meshes/inner_final.stl"/>
            </geometry>

            <material name="silver">
            <color rgba="0.917647059 0.925490196 0.925490196 1"/>
            </material>
        </visual>
    
        <collision>
            <geometry>
                <mesh filename="package://amr_description/meshes/inner_final.stl"/>
            </geometry>
            <contact_coefficients mu="0" kp="0.0" kd="0.0"/>
        </collision>

        </link>

    <link name="outer_right_back">
        <inertial>
        <mass value="0.11614"/>
        <inertia ixx="0.00036673" iyy="0.00036673" izz="0.000435441" ixy="0.0" ixz="0.0" iyz="0.0"/>
        <origin/>
        </inertial>
    
        <visual>
            
            <geometry>
                <mesh filename="package://amr_description/meshes/outer_final.stl"/>
            </geometry>

            <material name="white">
            <color rgba="0 0 0 1"/>
            </material>
        </visual>
    
        <collision>
            <geometry>
                <mesh filename="package://amr_description/meshes/outer_final.stl"/>
            </geometry>
            <contact_coefficients mu="0" kp="0.0" kd="0.0"/>
        </collision>

        </link>

    <!-- 
    link for top of the bot
    -->  

    <link name="bot_top">
        <inertial>
        <mass value="8.47"/>
        <inertia ixx="0.002307898" iyy="0.004479378" izz="0.002685416" ixy="0.0" ixz="0.0" iyz="0.0"/>
        <origin/>
        </inertial>
    
        <visual>
            
            <geometry>
                <mesh filename="package://amr_description/meshes/top_final.stl"/>
            </geometry>

            <material name="gray">
            <color rgba="0.7529 0.7529 0.7529 1"/>
            </material>
        </visual>
    
        <collision>
            <geometry>
                <mesh filename="package://amr_description/meshes/top_final.stl"/>
            </geometry>
            <contact_coefficients mu="0" kp="0.0" kd="0.0"/>
        </collision>

        </link>

    <!-- 
    link for top of the bot plate
    -->  

    <link name="bot_top_plate">
        <inertial>
        <mass value="2.54605"/>
        <inertia ixx="0.000065178" iyy="0.000128019" izz="0.000065178" ixy="0.0" ixz="0.0" iyz="0.0"/>
        <origin/>
        </inertial>
    
        <visual>
            
            <geometry>
                <mesh filename="package://amr_description/meshes/top_plate_final.stl"/>
            </geometry>

            <material name="gray">
            <color rgba=".7 .7 .7 1" />
            </material>
        </visual>
    
        <collision>
            <geometry>
                <mesh filename="package://amr_description/meshes/top_final.stl"/>
            </geometry>
            <contact_coefficients mu="0" kp="0.0" kd="0.0"/>
        </collision>

        </link>

    <!-- 
    link for kinect camera
    -->  

    <link name="kinect_camera">
        <inertial>
        <mass value="0.350"/>
        <inertia ixx="0.003042698" iyy="0.000488640" izz="0.002953811" ixy="0.0" ixz="0.0" iyz="0.0"/>
        <origin/>
        </inertial>
    
        <visual>
            
            <geometry>
                <mesh filename="package://amr_description/meshes/kinect.stl"/>
            </geometry>

            <material name="black">
            <color rgba="0.1 0.1 0.1 1" />
            </material>
        </visual>
    
        <collision>
            <geometry>
                <mesh filename="package://amr_description/meshes/kinect.stl"/>
            </geometry>
            <contact_coefficients mu="0" kp="0.0" kd="0.0"/>
        </collision>

        </link>

    <!-- 
    link for lidar
    -->  

    <link name="lidar">
        <inertial>
        <mass value="0.175"/>
        <inertia ixx="0.000380890" iyy="0.000594858" izz="0.000679996" ixy="0.0" ixz="0.0" iyz="0.0"/>
        <origin/>
        </inertial>
    
        <visual>
            
            <geometry>
                <mesh filename="package://amr_description/meshes/lidar.stl"/>
            </geometry>

            <material name="black">
            <color rgba="0.18 0.18 0.18 1" />
            </material>
        </visual>
    
        <collision>
            <geometry>
                <mesh filename="package://amr_description/meshes/lidar.stl"/>
            </geometry>
            <contact_coefficients mu="0" kp="0.0" kd="0.0"/>
        </collision>

        </link>


    <!-- 
    joints for right back wheels
    -->
        <joint name="wheel_rear_right_joint" type="continuous">
        <origin xyz="-0.108 0.19 -0.028  " rpy="0 0.0 0.0"/>
        <parent link="base"/>
        <child link="shaft_right_back"/>
        <axis xyz="0.0 1 0"/>
        </joint>\

        <joint name="inner_right_back_joint" type="fixed">
        <origin xyz="-0.0 0.022 0.0  " rpy="0 0.0 0.0"/>
        <parent link="shaft_right_back"/>
        <child link="inner_right_back"/>
        <axis xyz="0.0 0.0 0.0"/>
        </joint>

        <joint name="outer_right_back_joint" type="fixed">
        <origin xyz="0.0 0.0 0.0  " rpy="0 0.0 0.0"/>
        <parent link="inner_right_back"/>
        <child link="outer_right_back"/>
        <axis xyz="0.0 0.0 0.0"/>
        </joint>
    <!-- 
    joints for left back wheels
    -->
        <joint name="wheel_rear_left_joint" type="continuous">
        <origin xyz="-0.108 -0.19 -0.028  " rpy="3.14 0.0 0.0"/>
        <parent link="base"/>
        <child link="shaft_left_back"/>
        <axis xyz="0.0 -1 0"/>
        </joint>\

        <joint name="inner_left_back_joint" type="fixed">
        <origin xyz="-0.0 0.022 0.0  " rpy="0 0.0 0.0"/>
        <parent link="shaft_left_back"/>
        <child link="inner_left_back"/>
        <axis xyz="0.0 0.0 0.0"/>
        </joint>

        <joint name="outer_left_back_joint" type="fixed">
        <origin xyz="0.0 0.0 0.0  " rpy="0 0.0 0.0"/>
        <parent link="inner_left_back"/>
        <child link="outer_left_back"/>
        <axis xyz="0.0 0.0 0.0"/>
        </joint>    
    <!-- 
    joints for left back wheels
    -->
        <joint name="wheel_front_left_joint" type="continuous">
        <origin xyz="0.106 -0.19 -0.028  " rpy="3.14 0.0 0.0"/>
        <parent link="base"/>
        <child link="shaft_left_front"/>
        <axis xyz="0.0 -1 0"/>
        </joint>\

        <joint name="inner_left_front_joint" type="fixed">
        <origin xyz="0.0 0.022 0.0  " rpy="0 0.0 0.0"/>
        <parent link="shaft_left_front"/>
        <child link="inner_left_front"/>
        <axis xyz="0.0 0.0 0.0"/>
        </joint>

        <joint name="outer_left_front_joint" type="fixed">
        <origin xyz="0.0 0.0 0.0" rpy="0 0.0 0.0"/>
        <parent link="inner_left_front"/>
        <child link="outer_left_front"/>
        <axis xyz="0.0 0.0 0.0"/>
        </joint> 

    <!-- 
    joints for right back wheels
    -->
        <joint name="wheel_front_right_joint" type="continuous">
        <origin xyz="0.106 0.19 -0.028  " rpy="0.0 0.0 0.0"/>
        <parent link="base"/>
        <child link="shaft_right_front"/>
        <axis xyz="0.0 1 0"/>
        </joint>\

        <joint name="inner_right_front_joint" type="fixed">
        <origin xyz="0.0 0.022 0.0  " rpy="0 0.0 0.0"/>
        <parent link="shaft_right_front"/>
        <child link="inner_right_front"/>
        <axis xyz="0.0 0.0 0.0"/>
        </joint>

        <joint name="outer_right_front_joint" type="fixed">
        <origin xyz="0.0 0.0 0.0" rpy="0 0.0 0.0"/>
        <parent link="inner_right_front"/>
        <child link="outer_right_front"/>
        <axis xyz="0.0 0.0 0.0"/>
        </joint> 

    <!-- 
    joints for bot top
    -->
        <joint name="bot_top_joint" type="fixed">
        <origin xyz="0.0 0.0 0.2  " rpy="0.0 0.0 0.0"/>
        <parent link="base"/>
        <child link="bot_top"/>
        <axis xyz="0.0 0.0 0"/>
        </joint>\

    <!-- 
    joint for bot top plate
    -->
        <joint name="bot_top_plate_joint" type="prismatic">
        <origin xyz="0.0 0.0 0.07" rpy="0.0 0.0 0.0"/>
        <limit lower="0.00" upper="0.07" effort="100.0" velocity="1.0"/>
        <parent link="bot_top"/>
        <child link="bot_top_plate"/>
        <axis xyz="0.0 0.0 1"/>
        </joint>\

    <!-- 
    joint for kinect
    -->
        <joint name="kinect_camera_joint" type="fixed">
        <origin xyz="0.23 0.0 0.07" rpy="0.0 0.0 0"/>
        <parent link="bot_top"/>
        <child link="kinect_camera"/>
        <axis xyz="0.0 0.0 0"/>
        </joint>\

    <!-- 
    joint for lidar
    -->
        <joint name="lidar_joint" type="fixed">
        <origin xyz="0.18 0.11 0.07" rpy="0.0 0.0 0"/>
        <parent link="bot_top"/>
        <child link="lidar"/>
        <axis xyz="0.0 0.0 0"/>
        </joint>\


</robot>